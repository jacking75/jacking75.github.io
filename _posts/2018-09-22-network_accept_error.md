---
layout: post
title: socket의 accept에서 발생하는 에러와 의미
published: true
categories: [Network]
tags: tcp accept error
---
| 에러 이름            | 설명                                                                                                                                                                                                                                              | 핸들링                                                         |
|----------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------|
| EAGAIN               | 소켓이 비 정지(nonblocking) 되어 있고, 또한 접수 대상의 연결이 존재하지 않는다. POSIX.1-2001는 이 경우 어느쪽 오류를 반환하는 것도 인정하고, 이 2개의 정수가 같은 값을 가지는 것도 요구하지 않는다. 따라서 이식성이 필요한 응용 프로그램은 양쪽 가능성을 확인해야 한다. | timeout. golang에서는 AcceptTCP()에서 기다리기 때문에 핸들링 할 필요 없음  |
| EWOULDBLOCK          | EAGAIN과 같음                                                                                                                                                                                                                                       | timeout                                                        |
| EBADF                | 디스크립터가 틀리다.                                                                                                                                                                                                                             | 복구 불능                                                    |
| ECONNABORTED         | 연결이 중단 되었다.                                                                                                                                                                                                                                | temporary golang에서는 AcceptTCP()에서 기다리고 있으므로 핸들링 필요 없음 |
| EFAULT               | addr 파라미터가 사용자 주소 공간의 쓰기 가능한 영역이 아니다.                                                                                                                                                                                     | 복구 불능                                                    |
| EINTR                | 유효한 연결이 도착하기 전에 포착된 시그널에 의해 시스템 호출이 중단되었다. signal (7) 참조.                                                                                                                                                        | temporary                                                      |
| EINVAL               | 소켓이 연결 대기 상태가 아니다. 혹은 addrlen이 틀리다 (예를 들어, false의 경우 등).                                                                                                                                                                    | 복구 불능                                                    |
| EINVAL               | (accept4()) flags에 잘못된 값이 지정 되어있다.                                                                                                                                                                                                    | 복구 불능                                                    |
| EMFILE               | 1 프로세스가 열 수 있는 파일 디스크립터 한계에 도달했다.                                                                                                                                                                                           | temporary                                                      |
| ENFILE               | 열린 파일의 수가 전체 시스템의 한계에 도달했다.                                                                                                                                                                                                   | temporary                                                      |
| ENOBUFS, ENOMEM  | 메모리가 부족하다. 많은 경우 시스템 메모리가 부족한 것이 아니라 소켓 버퍼의 크기에 의한 메모리 할당 제한이다.                                                                                                                                    | ?                                                              |
| ENOTSOCK             | 디스크립터는 소켓이 아니라 파일을 참조하고 있다.                                                                                                                                                                                                   | 복구 불능                                                    |
| EOPNOTSUPP           | 참조하고 있는 소켓이 SOCK_STREAM 타입이 아니다.                                                                                                                                                                                                    | 복구 불능                                                    |
| EPROTO               | 프로토콜 오류.                                                                                                                                                                                                                                    | 복구 불능                                                    |
| EPERM                | 상기 이외에, Linux의 accept()는 다음 오류와 함께 실패한다: 방화벽 규칙에 의해 접속이 금지 되었다.                                                                                                                                                    | 복구 불능                                                    |
  
출처: https://qiita.com/kawasin73/items/3371d35166af733c2ce4  